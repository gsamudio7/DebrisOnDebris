---
title: "Space Debris Collision Risk Analysis"
subtitle: |
  | U.S. Army FA49 Qualification Course Capstone Project
  | `r format(Sys.time(), '%B %d %Y')`
author:
  "[MAJ J.D. Caddell<br>
    MAJ Charles Gallagher<br>
    MAJ Ben Halle\n<br>
    MAJ Tim Justicz<br>
    MAJ Gabe Samudio](https://github.com/gsamudio7/DebrisOnDebris)"
output:
  html_document:
    includes:
      before_body: assets/header.html
      in_header: assets/fav.html
      after_body: assets/header.html
    css: assets/css/html_report.css
    highlight: haddock
    self_contained: yes
    toc: yes
    toc_float: yes
    toc_depth: 2
nocite: '@*'
bibliography:
- assets/bib/Rpackages.bib
- assets/bib/debrisOnDebris.bib
---



<style>

#TOC {
  margin-top: 40px;
  background: url("https://ewscripps.brightspotcdn.com/dims4/default/9d34d32/2147483647/strip/true/crop/1280x720+0+0/resize/1280x720!/quality/90/?url=http%3A%2F%2Fewscripps-brightspot.s3.amazonaws.com%2F42%2Fb3%2Ff10c7ff1498880ea9768df26cf47%2Fus-space-command.jpg");
  background-size: contain;
  padding-top: 165px !important;
  background-repeat: no-repeat;
  border: None;
  width: 1;
}

</style>
<center>
<img src="assets/MIT-Orbit-Debris_0.jpeg" width="80%"/> 
<br>

<b>Figure 1: Space debris orbiting Earth.</b><br>
Image from [MIT news website](https://news.mit.edu/2017/space-junk-shards-teflon-0619) depicting the large volume of space debris orbiting the Earth at ~17,500 mph.
</center>
<br>

<br>

```{r setUp, include=FALSE}
knitr::opts_chunk$set(
  cache=FALSE,
  message=FALSE,
  warning=FALSE,
  fig.align="center",
  class.source="chunk",
  out.width="100%",
  fig.retina = 3
)

library(data.table)
library(dplyr)
library(plotly)
library(RColorBrewer)
library(formattable)
options(scipen=99)
```

# Executive Summary
- Charged with informing the process to develop a debris on debris collision warning threshold to mitigate future collision risk and limit false alarms.<br><br>
- The study has focused on the following parameters:
    - Debris collision results in at least <b>one fragment</b> at least five centimeters in diameter.
    - <b>Five</b> days to time of closest approach (TCA).
    - Concern Events terminology defined as <b>$\text{Collision Probability} >= 1\text{e-}5$</b> within a day to TCA.<br><br>
- Final study implementations:
    - Removed all observations with $<= 1\text{e-}10\text{ Collision Probability}$.
    - Tested 

# Problem Formulation
- <b>Problem Statement:</b> Under what circumstances should debris-on-debris collision warnings be used?
    - What probability of collision should be used as a surrogate for an actual event of concern?
    - What probability of collision should trigger a warning at five days to TCA?
    - How well can we do in warning for events occurring in the future?<br><br>
- <b>Mission Statement:</b> Recommend debris collision notification thresholds and develop a mechanism to explore the notification decision space to assess risk of debris-on-debris collisions in space.<br><br>

# Exploratory Data Analysis 
- <b>Questions:</b>
    - How is the Collision Probability distributed?
    - How does the rate of new concern events change over time?
    - How does the Collision Probability change over time?<br><br>
- <b>Data Preparation:</b>
    - Summarize by each event to show the Collision Probability for each fragment size at the last recorded time, if that time is within a day of TCA.
    - Summarize by each event to show the Collision Probability for each fragment size at the last recorded time, for each binned days to TCA.<br><br>

## Collision Probability Density
We need to find a range of values to appropriately label events of concern.

<br>

<center>
<b>Figure 2: Collision Probability within One Day of TCA</b>
</center>

<br>

```{r eda_plot1, echo=FALSE}
load("products/Pc_at_1_day.RData")
Pc_at_1_day
```

<br>

We use,

<center>
$\text{Collision Probabilty} >= 1\text{e-}5 \text{ and days to TCA} < 1 \text{ day,}$ 
</center>

<br>

as a surrogate to label a concern event. 

<br>

## Collision Probability Variability

- Does the $\text{Collision Probability}$ increase as we approach TCA?
- Should we expect to have a lower warning threshold at five days to TCA?

<br>

<center>
<b>Figure 4: Collision Probability as TCA Varies</b>
</center>

<br>

```{r eda_plot3, echo=FALSE}
load("products/Pc_delta.RData")
Pc_delta
```
<br>

<b>Conclusions:</b>

- The variability expands slightly, but there is not overwhelming evidence of an increase in the $\text{Collision Probabilty}$.
- We consider the following range for $\text{Collision Probability}$ warning thresholds:

<br>

<center>
$1.94\text{e-}22 <= Pc\_warn <= 1\text{e-}5$,
</center>

<br>

where $Pc\_warn$ is the $\text{Collision Probability}$ that triggers a warning.

<br>

# Risk Tradespace {.tabset .tabset-fade}
We need to evaluate warning thresholds by examining the trade space between risk aversion and tolerance.

We have the following working definitions:

<br>

<center>
$\text{Concern Event} := \text{Collision Probability} >= 1\text{e-}5 \text{ and days to TCA < 1 day}$,
<br>

$\text{False Negative (FN)} := \text{Number of Concern Events that did not trigger a warning at 5 days to TCA}$, and
<br>

$\text{False Positive (FP)} := \text{Number of false alarms, where warned events at 5 days to TCA did not become Concern Events}$.
<br>

<br>

</center>

We can now explore how the warning threshold effects the $\text{FP}$ and $\text{FN}$.

<br>

<center>
<b>Figure 5: Confusion Rates at Five Days to TCA and Concern Prop = 1e-5</b>
</center>

<br>

## Five days to TCA
```{r concern_plot1, echo=FALSE}
load("products/concernCount_plots.RData")
concernCount_5
```

Hovering over the plot, we see that the warning threshold decreases as FN decreases and as FP increases. In this case, the more severe mistake is FN (not warning for a concern event), which is our Type II error. The FP (false alarm, Type I error) has much lower rates because of the high number of events with Collision Probabilities falling below $1\text{e-}5$ within one day to TCA.

We recommend this chart to inform warning thresholds for five days to TCA, for concern events previously defined.

## Five and four days to TCA
```{r concern_plot2, echo=FALSE}
concernCount_5_and_4
```

## Five, four, and three days to TCA
```{r concern_plot3, echo=FALSE}
concernCount_5_and_4_and_3
```

# Risk Tradespace Short Notice {.tabset .tabset-fade}

## Four days to TCA
```{r concern_plot4, echo=FALSE}
concernCount_4
```

## Three days to TCA
```{r concern_plot5, echo=FALSE}
concernCount_3
```

## Two days to TCA
```{r concern_plot6, echo=FALSE}
concernCount_2
```

# Way Forward 
- Finalize warning threshold point estimate formulation.
- Employ Monte Carlo method to explore the variability of the point estimate, and deliver a $95% \text{bootstrap confidence inverval}$ for warning threshold at five days to TCA [@10.1214/aos/1176344552].
- Repeat this methodology for 4, 3, 2 days to TCA.
- Iterate on the R Shiny Application based on client feedback.

# Works Cited 
